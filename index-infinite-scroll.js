import{a as p,g as f,c as y,t as b}from"./assets/main-BNayu2En.js";import{S as v,i as n}from"./assets/vendor-DEenWwFD.js";const s=document.querySelector(".image-search-form"),r=document.querySelector(".gallery"),t=document.querySelector(".loader-container"),L=new v(".gallery-item-link",{captions:!0,captionsData:"alt",captionDelay:250}),m={root:null,rootMargin:"0px",threshold:.1},c=document.querySelector(".infinite-scroll"),l=new IntersectionObserver(q,m),a=document.querySelector(".footer"),S=new IntersectionObserver((e,g)=>{e.forEach(i=>{i.isIntersecting&&(t.classList.add("hidden"),document.querySelector(".iziToast")||n.show({iconUrl:p,message:"We're sorry, but you've reached<br>the end of search results.",position:"topRight",backgroundColor:"#0099FF",messageColor:"white",progressBarColor:"#0071BD",theme:"dark"}),g.unobserve(i.target))})},m);let h=null,o=1,d=40;function w(){n.show({iconUrl:b,message:"Sorry, there are no images matching<br>your search query. Please try again!",position:"topRight",backgroundColor:"#EF4040",messageColor:"white",progressBarColor:"#B51B1B",theme:"dark"}),t.classList.add("hidden")}async function u(){try{const e=await f(h,o,d);e.totalHits===0?w():(r.appendChild(y(e.hits)),e.totalHits>d*o?l.observe(c):(l.unobserve(c),S.observe(a),a.classList.remove("hidden")),L.refresh(),r.classList.remove("hidden"),t.classList.add("hidden"))}catch(e){console.log("Error:",e)}}function I(){t.classList.remove("hidden"),r.classList.add("hidden"),a.classList.add("hidden"),o=1,r.innerHTML="";const e=document.querySelector(".iziToast");e&&n.hide({transitionOut:"fadeOutUp"},e)}async function q(){t.classList.remove("hidden"),o++,await u()}s.addEventListener("submit",async e=>{e.preventDefault(),I(),h=s.elements.searchTerm.value.trim(),await u(),s.reset()});
//# sourceMappingURL=index-infinite-scroll.js.map
